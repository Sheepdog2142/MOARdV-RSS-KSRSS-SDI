// Patch to add new map overlays to MAS_PCR_2X1Screen

@MAS_PAGE[MAS_KGT_CRT_Map]:AFTER[MOARdV]
{

  // Mercury (no moons)
  IMAGE
  {
    name = Map Overlay
    texture = MODAV-RSS-SDI/MFD_Maps/Maps/Mercury_biome_8192x4096
    position = 0, 0
    size = 2560, 1280
    variable = fc.CurrentBodyIndex() == fc.BodyIndex("Mercury")
    passiveColor = 5, 220, 5, 255
  }

  // Venus (no moons)
  IMAGE
  {
    name = Map Overlay
    texture = MODAV-RSS-SDI/MFD_Maps/Maps/Venus_biome_8192x4096
    position = 0, 0
    size = 2560, 1280
    variable = fc.CurrentBodyIndex() == fc.BodyIndex("Venus")
    passiveColor = 5, 220, 5, 255
  }

  // Earth and its Moon
  IMAGE
  {
    name = Map Overlay
    texture = MODAV-RSS-SDI/MFD_Maps/Maps/Earth_biome_8192x4096
    position = 0, 0
    size = 2560, 1280
    variable = fc.BodyIsHome(fc.CurrentBodyIndex())
    passiveColor = 5, 220, 5, 255
  }

  IMAGE
  {
    name = Map Overlay
    texture = MODAV-RSS-SDI/MFD_Maps/Maps/Moon_biome_8192x4096
    position = 0, 0
    size = 2560, 1280
    variable = fc.CurrentBodyIndex() == fc.BodyIndex("Moon")
    passiveColor = 5, 220, 5, 255
  }

  // Mars and its Moons
  IMAGE
  {
    name = Map Overlay
    texture = MODAV-RSS-SDI/MFD_Maps/Maps/Mars_biome_8192x4096
    position = 0, 0
    size = 2560, 1280
    variable = fc.CurrentBodyIndex() == fc.BodyIndex("Mars")
    passiveColor = 5, 220, 5, 255
  }

  IMAGE
  {
    name = Map Overlay
    texture = MODAV-RSS-SDI/MFD_Maps/Maps/Phobos_biome_8192x4096
    position = 0, 0
    size = 2560, 1280
    variable = fc.CurrentBodyIndex() == fc.BodyIndex("Phobos")
    passiveColor = 5, 220, 5, 255
  }

  IMAGE
  {
    name = Map Overlay
    texture = MODAV-RSS-SDI/MFD_Maps/Maps/Deimos_biome_8192x4096
    position = 0, 0
    size = 2560, 1280
    variable = fc.CurrentBodyIndex() == fc.BodyIndex("Deimos")
    passiveColor = 5, 220, 5, 255
  }

  // Jupiter and its Moons
  IMAGE
  {
    name = Map Overlay
    texture = MODAV-RSS-SDI/MFD_Maps/Maps/Jupiter_biome_8192x4096
    position = 0, 0
    size = 2560, 1280
    variable = fc.CurrentBodyIndex() == fc.BodyIndex("Jupiter")
    passiveColor = 5, 220, 5, 255
  }

  IMAGE
  {
    name = Map Overlay
    texture = MODAV-RSS-SDI/MFD_Maps/Maps/Io_biome_8192x4096
    position = 0, 0
    size = 2560, 1280
    variable = fc.CurrentBodyIndex() == fc.BodyIndex("Io")
    passiveColor = 5, 220, 5, 255
  }

  IMAGE
  {
    name = Map Overlay
    texture = MODAV-RSS-SDI/MFD_Maps/Maps/Europa_biome_8192x4096
    position = 0, 0
    size = 2560, 1280
    variable = fc.CurrentBodyIndex() == fc.BodyIndex("Europa")
    passiveColor = 5, 220, 5, 255
  }

  IMAGE
  {
    name = Map Overlay
    texture = MODAV-RSS-SDI/MFD_Maps/Maps/Ganymede_biome_8192x4096
    position = 0, 0
    size = 2560, 1280
    variable = fc.CurrentBodyIndex() == fc.BodyIndex("Ganymede")
    passiveColor = 5, 220, 5, 255
  }

  IMAGE
  {
    name = Map Overlay
    texture = MODAV-RSS-SDI/MFD_Maps/Maps/Callisto_biome_8192x4096
    position = 0, 0
    size = 2560, 1280
    variable = fc.CurrentBodyIndex() == fc.BodyIndex("Callisto")
    passiveColor = 5, 220, 5, 255
  }

  // Saturn and its Moons
  IMAGE
  {
    name = Map Overlay
    texture = MODAV-RSS-SDI/MFD_Maps/Maps/Saturn_biome_8192x4096
    position = 0, 0
    size = 2560, 1280
    variable = fc.CurrentBodyIndex() == fc.BodyIndex("Saturn")
    passiveColor = 5, 220, 5, 255
  }

  IMAGE
  {
    name = Map Overlay
    texture = MODAV-RSS-SDI/MFD_Maps/Maps/Titan_biome_8192x4096
    position = 0, 0
    size = 2560, 1280
    variable = fc.CurrentBodyIndex() == fc.BodyIndex("Titan")
    passiveColor = 5, 220, 5, 255
  }

  IMAGE
  {
    name = Map Overlay
    texture = MODAV-RSS-SDI/MFD_Maps/Maps/Enceladus_biome_8192x4096
    position = 0, 0
    size = 2560, 1280
    variable = fc.CurrentBodyIndex() == fc.BodyIndex("Enceladus")
    passiveColor = 5, 220, 5, 255
  }

  // Uranus and its Moons
  IMAGE
  {
    name = Map Overlay
    texture = MODAV-RSS-SDI/MFD_Maps/Maps/Uranus_biome_8192x4096
    position = 0, 0
    size = 2560, 1280
    variable = fc.CurrentBodyIndex() == fc.BodyIndex("Uranus")
    passiveColor = 5, 220, 5, 255
  }

  IMAGE
  {
    name = Map Overlay
    texture = MODAV-RSS-SDI/MFD_Maps/Maps/Miranda_biome_8192x4096
    position = 0, 0
    size = 2560, 1280
    variable = fc.CurrentBodyIndex() == fc.BodyIndex("Miranda")
    passiveColor = 5, 220, 5, 255
  }

  IMAGE
  {
    name = Map Overlay
    texture = MODAV-RSS-SDI/MFD_Maps/Maps/Ariel_biome_8192x4096
    position = 0, 0
    size = 2560, 1280
    variable = fc.CurrentBodyIndex() == fc.BodyIndex("Ariel")
    passiveColor = 5, 220, 5, 255
  }

  IMAGE
  {
    name = Map Overlay
    texture = MODAV-RSS-SDI/MFD_Maps/Maps/Umbriel_biome_8192x4096
    position = 0, 0
    size = 2560, 1280
    variable = fc.CurrentBodyIndex() == fc.BodyIndex("Umbriel")
    passiveColor = 5, 220, 5, 255
  }

  IMAGE
  {
    name = Map Overlay
    texture = MODAV-RSS-SDI/MFD_Maps/Maps/Titania_biome_8192x4096
    position = 0, 0
    size = 2560, 1280
    variable = fc.CurrentBodyIndex() == fc.BodyIndex("Titania")
    passiveColor = 5, 220, 5, 255
  }

  IMAGE
  {
    name = Map Overlay
    texture = MODAV-RSS-SDI/MFD_Maps/Maps/Oberon_biome_8192x4096
    position = 0, 0
    size = 2560, 1280
    variable = fc.CurrentBodyIndex() == fc.BodyIndex("Oberon")
    passiveColor = 5, 220, 5, 255
  }

  // Neptune and its Moon
  IMAGE
  {
    name = Map Overlay
    texture = MODAV-RSS-SDI/MFD_Maps/Maps/Neptune_biome_8192x4096
    position = 0, 0
    size = 2560, 1280
    variable = fc.CurrentBodyIndex() == fc.BodyIndex("Neptune")
    passiveColor = 5, 220, 5, 255
  }

  IMAGE
  {
    name = Map Overlay
    texture = MODAV-RSS-SDI/MFD_Maps/Maps/Triton_biome_8192x4096
    position = 0, 0
    size = 2560, 1280
    variable = fc.CurrentBodyIndex() == fc.BodyIndex("Triton")
    passiveColor = 5, 220, 5, 255
  }

  // Pluto and its Moon
  IMAGE
  {
    name = Map Overlay
    texture = MODAV-RSS-SDI/MFD_Maps/Maps/Pluto_biome_8192x4096
    position = 0, 0
    size = 2560, 1280
    variable = fc.CurrentBodyIndex() == fc.BodyIndex("Pluto")
    passiveColor = 5, 220, 5, 255
  }

  IMAGE
  {
    name = Map Overlay
    texture = MODAV-RSS-SDI/MFD_Maps/Maps/Charon_biome_8192x4096
    position = 0, 0
    size = 2560, 1280
    variable = fc.CurrentBodyIndex() == fc.BodyIndex("Charon")
    passiveColor = 5, 220, 5, 255
  }

  // Comets (Example for Halley's Comet)
  IMAGE
  {
    name = Map Overlay
    texture = MODAV-RSS-SDI/MFD_Maps/Maps/Halley_biome_8192x4096
    position = 0, 0
    size = 2560, 1280
    variable = fc.CurrentBodyIndex() == fc.BodyIndex("Halley")
    passiveColor = 5, 220, 5, 255
  }

  IMAGE
  {
    name = Grid Overlay Left
    texture = PCRIVAPLUS_MASProps/Textures/GridWrap
    position = 0, 0
    size = 1280, 1280
    passiveColor = 80, 200, 80, 30
  }

  IMAGE
  {
    name = Grid Overlay Right
    texture = PCRIVAPLUS_MASProps/Textures/GridWrap
    position = 1280, 0
    size = 1280, 1280
    passiveColor = 80, 200, 80, 30
  }

  LINE_STRING
  {
    name = Station0

    position = 0, 0
    startColor = 255, 20, 155, 200
    startWidth = 2.0
    loop = true

    vertex = fc.Remap(fc.GroundStationLongitude(0), -180, 180, 0, 2560) - 8, fc.Remap(fc.GroundStationLatitude(0), 90, -90, 0, 1280) - 8
    vertex = fc.Remap(fc.GroundStationLongitude(0), -180, 180, 0, 2560) - 8, fc.Remap(fc.GroundStationLatitude(0), 90, -90, 0, 1280) + 8
    vertex = fc.Remap(fc.GroundStationLongitude(0), -180, 180, 0, 2560) + 8, fc.Remap(fc.GroundStationLatitude(0), 90, -90, 0, 1280) + 8
    vertex = fc.Remap(fc.GroundStationLongitude(0), -180, 180, 0, 2560) + 8, fc.Remap(fc.GroundStationLatitude(0), 90, -90, 0, 1280) - 8

    variable = fc.CurrentBodyIndex() == fc.BodyIndex("Earth") and fc.GroundStationCount() > 0
  }

  LINE_STRING
  {
    name = Station1

    position = 0, 0
    startColor = 255, 20, 155, 200
    startWidth = 2.0
    loop = true

    vertex = fc.Remap(fc.GroundStationLongitude(1), -180, 180, 0, 2560) - 8, fc.Remap(fc.GroundStationLatitude(1), 90, -90, 0, 1280) - 8
    vertex = fc.Remap(fc.GroundStationLongitude(1), -180, 180, 0, 2560) - 8, fc.Remap(fc.GroundStationLatitude(1), 90, -90, 0, 1280) + 8
    vertex = fc.Remap(fc.GroundStationLongitude(1), -180, 180, 0, 2560) + 8, fc.Remap(fc.GroundStationLatitude(1), 90, -90, 0, 1280) + 8
    vertex = fc.Remap(fc.GroundStationLongitude(1), -180, 180, 0, 2560) + 8, fc.Remap(fc.GroundStationLatitude(1), 90, -90, 0, 1280) - 8

    variable = fc.CurrentBodyIndex() == fc.BodyIndex("Earth") and fc.GroundStationCount() > 1
  }

  LINE_STRING
  {
    name = Connection Line

    position = 0, 0
    startColor = 55, 120, 255, 245
    startWidth = 2.0

    vertex = fc.Remap(fc.Longitude(), -180, 180, 0, 2560), fc.Remap(fc.Latitude(), 90, -90, 0, 1280)
    vertex = fc.Remap(fc.CommNetLongitude(), -180, 180, 0, 2560), fc.Remap(fc.CommNetLatitude(), 90, -90, 0, 1280)

    variable = fc.CurrentBodyIndex() == fc.BodyIndex("Earth") and fc.CommNetConnected() == 1
  }

  TEXT
  {
    name = Station Name
    text = [hw]<=0=> $&$ fc.CommNetEndpoint()
    textColor = 200, 10, 10, 190
    position = fc.Remap(fc.CommNetLongitude(), -180, 180, 0, 160), fc.Remap(fc.CommNetLatitude(), 90, -90, 0, 40)
    variable = fc.CurrentBodyIndex() == fc.BodyIndex("Earth") and fc.CommNetConnected() == 1
  }

  GROUND_TRACK
  {
    name = Ground track
    position = 0, 0
    size = 2560
    lineWidth = 2.0
    vertexCount = 64
    vesselColor = 50, 200, 50, 180
    targetColor = 255, 0, 255, 180
    maneuverColor = 200, 210, 10, 180
  }

  POLYGON
  {
    name = Day Terminator
    position = 0, 0
    color = 255, 255, 255, 230

    vertex = fc.Remap(fc.NormalizeLongitude(fc.BodySunLongitude(fc.CurrentBodyIndex()) - 90), -180, 180, 0, 2560) - 8, 0
    vertex = fc.Remap(fc.NormalizeLongitude(fc.BodySunLongitude(fc.CurrentBodyIndex()) - 90), -180, 180, 0, 2560), 16
    vertex = fc.Remap(fc.NormalizeLongitude(fc.BodySunLongitude(fc.CurrentBodyIndex()) - 90), -180, 180, 0, 2560) + 8, 0
  }

  POLYGON
  {
    name = Night Terminator
    position = 0, 0
    color = 150, 80, 80, 230

    vertex = fc.Remap(fc.NormalizeLongitude(fc.BodySunLongitude(fc.CurrentBodyIndex()) + 90), -180, 180, 0, 2560) - 8, 0
    vertex = fc.Remap(fc.NormalizeLongitude(fc.BodySunLongitude(fc.CurrentBodyIndex()) + 90), -180, 180, 0, 2560), 16
    vertex = fc.Remap(fc.NormalizeLongitude(fc.BodySunLongitude(fc.CurrentBodyIndex()) + 90), -180, 180, 0, 2560) + 8, 0
  }

  IMAGE
  {
    name = Self Icon
    texture = %MAP_ICON%
    position = fc.Remap(fc.Longitude(), -180, 180, 0, 2560) - 16, fc.Remap(fc.Latitude(), 90, -90, 0, 1280) - 16
    size = 32, 32
    passiveColor = 210, 210, 210, 255
    tiling = 0.2, 0.2
    uvShift = fc.MapIconU(fc.VesselTypeId()), fc.MapIconV(fc.VesselTypeId())
  }

  IMAGE
  {
    name = Target Icon
    texture = %MAP_ICON%
    position = fc.Remap(fc.TargetLongitude(), -180, 180, 0, 2560) - 16, fc.Remap(fc.TargetLatitude(), 90, -90, 0, 1280) - 16
    size = 32, 32
    passiveColor = 210, 100, 210, 255
    tiling = 0.2, 0.2
    uvShift = fc.MapIconU(fc.TargetTypeId()), fc.MapIconV(fc.TargetTypeId())
    variable = fc.TargetType() == 1
  }

  ELLIPSE
  {
    name = Landing Site

    position = fc.Remap(fc.LandingLongitude(), -180, 180, 0, 2560) - 4, fc.Remap(fc.LandingLatitude(), 90, -90, 0, 1280) - 4
    startColor = 155, 10, 10, 200
    startWidth = 2.5
    vertexCount = 32
    radiusX = 8.0
    variable = fc.LandingTime() > 0 and fc.VerticalSpeed() < 0
  }

  TEXT
  {
    name = Landing Time
    text = <=0,6:METmmm:ss=> $&$ fc.LandingTime() $$$ <=0,6:METmmm:ss=> $&$ fc.SuicideBurnTime()
    textColor = 200, 10, 10, 190
    position = fc.Remap(fc.LandingLongitude(), -180, 180, 0, 160), fc.Remap(fc.LandingLatitude(), 90, -90, 0, 40)
    variable = fc.LandingTime() > 0 and fc.VerticalSpeed() < 0
  }
  
}
